<?php
/**
 * DISCLAIMER
 *
 * Do not edit or add to this file if you wish to upgrade this module to newer
 * versions in the future.
 *
 * @category  Smile
 * @package   Smile\GiftSalesRule
 * @author    Maxime Queneau <maxime.queneau@smile.fr>
 * @copyright 2019 Smile
 * @license   Open Software License ("OSL") v. 3.0
 */

/** @var $block \Smile\GiftSalesRule\Block\Cart */
?>

<?php foreach ($block->getGiftRules() as $giftRuleId => $giftRuleData): ?>
    <?= "Gift rule id: " . $giftRuleId ?>
    </br>
    <?php foreach ($giftRuleData['items'] as $giftProduct): ?>
        <?php
        $postDataHelper = $this->helper('Magento\Framework\Data\Helper\PostHelper');
        $postData = $postDataHelper->getPostData($block->getAddToCartUrl($giftRuleId, $giftRuleData['code'], $giftProduct));
        ?>
        <button class="action tocart primary"
                data-post='<?= $postData ?>'
                type="button" title="<?= __('Add gift product') . $giftProduct['sku'] ?>">
            <span><?= __('Add gift product ') . $giftProduct['sku'] ?></span>
        </button>
    <?php endforeach; ?>
<?php endforeach; ?>
